# Building

KeybindLib depends on several proprietary assemblies that are part of Slime Rancher, some of which need to be publicized. This makes the build process a little complicated.

If you just want a bleeding-edge version of KeybindLib, you can download one from [GitHub Actions](https://github.com/Esper89/SlimeRancher-KeybindLib/actions). Otherwise, follow the steps below.

## Windows

 - Download the repository.

 - Open `configure` in Notepad or another text editor and follow the instructions in the `DIY INSTRUCTIONS` section.

 - Open the folder `src`, then open `KeybindLib.sln` in Visual Studio or another C# IDE.

 - Switch the build configuration to `Release` and build the solution.

 - Open `build\target` in the repository and enjoy your homemade copy of KeybindLib!

## Linux

*Warning: because SRML only supports the Windows build of Slime Rancher, this mod will likely only function if you have the Windows build of Slime Rancher. The Linux build won't work.*

First, make sure you have [Mono](https://www.mono-project.com/download/stable/), [MonoDevelop](https://www.monodevelop.com/download/), [git](https://git-scm.com/downloads), and [NuGet](https://docs.microsoft.com/en-us/nuget/install-nuget-client-tools) installed.

Then, clone the repo:
```sh
git clone https://github.com/Esper89/SlimeRancher-KeybindLib.git
cd SlimeRancher-KeybindLib
```

Run the configuration script.
```sh
./configure
```

Run make. The result will be in `build/target`.
```sh
make
```

If you'd like to install it, use the `install` target.
```sh
make install
```

You can open the solution file (`src/KeybindLib.sln`) in MonoDevelop, but the error highlighting might not be correct, as MonoDevelop doesn't support C# 8. For an IDE that does support C# 8, you can use [DotDevelop](https://github.com/dotdevelop/dotdevelop).

## Configurations

KeybindLib has three configurations:

 - `Debug`: KeybindLib and ExampleMod are both compiled, and are automatically copied to your Slime Rancher install directory. Debugging symbols are embedded. Requires additional setup on Windows.
 
 - `Release`: KeybindLib is compiled, ExampleMod isn't. KeybindLib's output is placed in `build/target`, along with it's XML documentation and a `.zip` of ExampleMod. Warnings are errors, optimizations are enabled, debugging symbols are not included.

 - `Testing`: Same as `Release`, but ExampleMod *is* compiled, and no ouput is placed in `build/target`. No actual testing is performed.

Running the `Clean` task will delete the files that were generated by the corresponding `Build` task.
 
These are equivalent to the `Makefile`'s `debug`, `build` and `test` targets respectively. The `clean` target cleans all three.

